(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{GU6H:function(e,t,r){"use strict";r.r(t),r.d(t,"ServerDetailModule",(function(){return v}));var s=r("ofXK"),n=r("fXoL"),i=r("oXO9"),o=r("tyNb"),c=r("9ans"),u=r("3Pt+"),a=r("SxV6");let h=(()=>{class e{constructor(e,t){this.serverService=e,this.router=t}ngOnInit(){this.userForm=new u.e({name:new u.c(null,[u.o.required])})}submit(){const e=Number.parseInt(this.router.url.split("/")[2],10);this.serverService.createUser({userName:this.userForm.value.name,serverID:e}).pipe(Object(a.a)()).subscribe(e=>{}),this.router.navigate(["/server/"+e+"/posts"])}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(i.a),n.Jb(o.b))},e.\u0275cmp=n.Db({type:e,selectors:[["app-user-registration"]],decls:7,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"field"],["for","name"],["id","name","placeholder","User  server name","formControlName","name"],["type","submit",3,"disabled"]],template:function(e,t){1&e&&(n.Mb(0,"div"),n.Mb(1,"form",0),n.Ub("ngSubmit",(function(){return t.submit()})),n.Mb(2,"div",1),n.Kb(3,"label",2),n.Kb(4,"input",3),n.Lb(),n.Mb(5,"button",4),n.oc(6," send "),n.Lb(),n.Lb(),n.Lb()),2&e&&(n.zb(1),n.cc("formGroup",t.userForm),n.zb(4),n.cc("disabled",t.userForm.invalid))},directives:[u.q,u.k,u.f,u.b,u.j,u.d],styles:[""]}),e})();function p(e,t){1&e&&(n.Mb(0,"div"),n.Kb(1,"app-user-registration"),n.Lb())}function l(e,t){if(1&e&&(n.Mb(0,"div"),n.nc(1,p,2,0,"div",1),n.Lb()),2&e){const e=n.Wb();n.zb(1),n.cc("ngIf",!e.isUserAuthenticated)}}let b=(()=>{class e{constructor(e,t,r){this.serverService=e,this.router=t,this.auth=r}ngOnInit(){this.serverService.getUserProfile(this.router.url.split("/")[2])}get isAuthenticated(){return this.auth.isAuthenticated()}get isUserAuthenticated(){return this.serverService.isUserAuthenticated}}return e.\u0275fac=function(t){return new(t||e)(n.Jb(i.a),n.Jb(o.b),n.Jb(c.a))},e.\u0275cmp=n.Db({type:e,selectors:[["app-server-detail"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"]],template:function(e,t){1&e&&(n.Mb(0,"div",0),n.nc(1,l,2,1,"div",1),n.Lb()),2&e&&(n.zb(1),n.cc("ngIf",t.isAuthenticated))},directives:[s.l,h],styles:[""]}),e})(),d=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[s.c,u.g,u.n]]}),e})(),v=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[o.e.forChild([{path:"",component:b}]),s.c,d]]}),e})()},oXO9:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r("tk/3"),n=r("SxV6"),i=r("fXoL"),o=r("9ans");let c=(()=>{class e{constructor(e,t){this.http=e,this.authService=t,this.user=void 0}getServerList(e){return this.http.get("http://localhost:8085/server/list/"+e)}getServerPageCountList(e){return this.http.get("http://localhost:8085/server/pages/"+e)}createServer(e){return this.http.post("http://localhost:8085/server/create",e,{headers:new s.c({token:this.authService.token})})}get isUserAuthenticated(){return null!==this.user}getUserProfile(e){this.authService.isAuthenticated()&&this.http.get("http://localhost:8085/server/get_user/"+e,{headers:new s.c({token:this.authService.token})}).pipe(Object(n.a)()).subscribe(e=>this.user=e)}createUser(e){return this.http.post("http://localhost:8085/server/create_user",e,{headers:new s.c({token:this.authService.token})})}sendReportsByPost(e,t){return console.log("send like post report"),this.http.post("http://localhost:8085/server/report?postID="+t+"&commentID=0",e,{headers:new s.c({token:this.authService.token})})}sendReportsByComment(e,t){return console.log("send like comment report"),this.http.post("http://localhost:8085/server/report?commentID="+t+"&postID=0",e,{headers:new s.c({token:this.authService.token})})}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(s.a),i.Qb(o.a))},e.\u0275prov=i.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);